import{e as z,a as x,f as k,s as q}from"../chunks/DrEVJf_X.js";import{a0 as B,ac as G,a1 as P,g as e,a2 as H,e as I,a4 as d,a3 as o,b as a,a8 as l,a5 as K,a7 as c,a9 as M}from"../chunks/BIQOLOFU.js";import{i as N}from"../chunks/NPzolRrf.js";import{h as O}from"../chunks/82X_sTQh.js";import{r as g}from"../chunks/CDiOZD_h.js";import{b as j}from"../chunks/COIuQCY0.js";import{g as R}from"../chunks/D1v8bg46.js";import{g as Q,a as T,s as U}from"../chunks/D6zz_Kj-.js";var V=k('<div class="error-message svelte-8bdjn9"> </div>'),W=k('<div class="register-container svelte-8bdjn9"><div class="register-card svelte-8bdjn9"><div class="register-header svelte-8bdjn9"><span class="register-icon svelte-8bdjn9">üèòÔ∏è</span> <h1 class="svelte-8bdjn9">Create Account</h1> <p class="svelte-8bdjn9">Join the Community Resilience platform</p></div> <!> <form class="register-form svelte-8bdjn9"><input type="text" placeholder="Full name" autocomplete="name" class="form-input svelte-8bdjn9" required/> <input type="email" placeholder="Email address" autocomplete="email" class="form-input svelte-8bdjn9" required/> <input type="password" placeholder="Password (min. 8 characters)" autocomplete="new-password" minlength="8" class="form-input svelte-8bdjn9" required/> <input type="password" placeholder="Confirm password" autocomplete="new-password" minlength="8" class="form-input svelte-8bdjn9" required/> <button type="submit" class="submit-button svelte-8bdjn9"> </button></form> <p class="login-link svelte-8bdjn9">Already have an account? <a href="/auth/login" class="svelte-8bdjn9">Sign in</a></p></div></div>');function ie($,E){B(E,!0);const S=Q();let u=l(""),m=l(""),i=l(""),p=l(""),r=l(!1),n=l(null);G(()=>{S.isAuthenticated&&R("/")});async function D(t){if(t.preventDefault(),a(n,null),e(i).length<8){a(n,"Password must be at least 8 characters");return}if(e(i)!==e(p)){a(n,"Passwords do not match");return}a(r,!0);try{const s=await T.auth.register({email:e(m),password:e(i),name:e(u)});U(s.user,s.tokens),R("/")}catch(s){a(n,s instanceof Error?s.message:"Registration failed",!0)}finally{a(r,!1)}}var _=W();O("8bdjn9",t=>{I(()=>{K.title="Create Account - Community Resilience"})});var A=d(_),C=o(d(A),2);{var F=t=>{var s=V(),L=d(s,!0);c(s),P(()=>q(L,e(n))),x(t,s)};N(C,t=>{e(n)&&t(F)})}var w=o(C,2),v=d(w);g(v);var f=o(v,2);g(f);var b=o(f,2);g(b);var h=o(b,2);g(h);var y=o(h,2),J=d(y,!0);c(y),c(w),M(2),c(A),c(_),P(()=>{v.disabled=e(r),f.disabled=e(r),b.disabled=e(r),h.disabled=e(r),y.disabled=e(r)||!e(u)||!e(m)||!e(i)||!e(p),q(J,e(r)?"Creating account...":"Create Account")}),z("submit",w,D),j(v,()=>e(u),t=>a(u,t)),j(f,()=>e(m),t=>a(m,t)),j(b,()=>e(i),t=>a(i,t)),j(h,()=>e(p),t=>a(p,t)),x($,_),H()}export{ie as component};
