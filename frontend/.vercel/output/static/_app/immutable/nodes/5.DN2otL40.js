import{d as Ta,a as c,f as d,s as f,e as ka,c as qa}from"../chunks/DrEVJf_X.js";import{o as Na}from"../chunks/CY6dNTIf.js";import{a0 as Da,a8 as _,ab as Ea,b as o,g as a,a1 as y,a2 as Ha,e as La,a3 as e,a5 as Ra,a4 as s,a7 as t,a9 as pa,a6 as Ua,aa as $a}from"../chunks/BIQOLOFU.js";import{i as h}from"../chunks/NPzolRrf.js";import{e as da,i as ua}from"../chunks/BPKzcg-U.js";import{h as Ba}from"../chunks/82X_sTQh.js";import{r as aa}from"../chunks/CDiOZD_h.js";import{s as Ia}from"../chunks/DrIL6A14.js";import{b as V}from"../chunks/COIuQCY0.js";import{b as _a}from"../chunks/D8D42rjB.js";import{a as ma}from"../chunks/D6zz_Kj-.js";var Ma=d('<div class="alert alert-error"> </div>'),Oa=d('<div class="card form-card svelte-9662h2"><h2 class="svelte-9662h2">Add New Asset</h2> <form><div class="form-row svelte-9662h2"><div class="form-group svelte-9662h2"><label class="label" for="name">Name *</label> <input id="name" class="input" required placeholder="e.g., Hilltop Community Hall"/></div> <div class="form-group svelte-9662h2"><label class="label" for="assetType">Asset Type *</label> <select id="assetType" class="input svelte-9662h2" required><option>Select type...</option><option>Shelter</option><option>Vehicle</option><option>Equipment</option><option>Supplies</option><option>Facility</option><option>Other</option></select></div></div> <div class="form-group svelte-9662h2"><label class="label" for="description">Description</label> <textarea id="description" class="textarea" placeholder="Describe the asset, capabilities, access information..."></textarea></div> <div class="form-row svelte-9662h2"><div class="form-group svelte-9662h2"><label class="label" for="location">Location</label> <input id="location" class="input" placeholder="Address or area"/></div> <div class="form-group svelte-9662h2"><label class="label" for="capacity">Capacity</label> <input id="capacity" class="input" type="number" placeholder="Number of people/items"/></div></div> <div class="form-row svelte-9662h2"><div class="form-group svelte-9662h2"><label class="label" for="status">Status</label> <select id="status" class="input svelte-9662h2"><option>Select status...</option><option>Available</option><option>In Use</option><option>Unavailable</option></select></div> <div class="form-group svelte-9662h2"><label class="label" for="tags">Tags (comma-separated)</label> <input id="tags" class="input" placeholder="generator, accessible, medical"/></div></div> <div class="form-actions svelte-9662h2"><button type="button" class="btn btn-secondary">Cancel</button> <button type="submit" class="btn btn-primary">Add Asset</button></div></form></div>'),Va=d('<div class="loading"><div class="spinner"></div></div>'),ja=d('<div class="card empty-state svelte-9662h2"><p>No community assets registered yet.</p></div>'),za=d("<span> </span>"),Ga=d('<p class="asset-description svelte-9662h2"> </p>'),Ja=d("<span> </span>"),Ka=d("<span> </span>"),Pa=d('<span class="badge badge-primary"> </span>'),Qa=d('<div class="asset-tags svelte-9662h2"></div>'),Wa=d('<div class="card asset-card svelte-9662h2"><div class="asset-header svelte-9662h2"><h3 class="svelte-9662h2"> </h3> <!></div> <span class="asset-type svelte-9662h2"> </span> <!> <div class="asset-meta svelte-9662h2"><!> <!></div> <!></div>'),Xa=d('<div class="assets-grid svelte-9662h2"></div>'),Ya=d('<div class="container"><div class="page-header svelte-9662h2"><div class="header-row svelte-9662h2"><h1 class="svelte-9662h2">Community Assets</h1> <button class="btn btn-primary"> </button></div> <p class="svelte-9662h2">Resources and facilities available during emergencies.</p></div> <!> <!> <!></div>');function ce(fa,ha){Da(ha,!0);let ea=_(Ea([])),ta=_(!0),F=_(""),N=_(!1),j=_(""),z=_(""),G=_(""),J=_(""),K=_(null),P=_(""),Q=_("");Na(async()=>{await oa()});async function oa(){o(ta,!0),o(F,"");try{o(ea,await ma.getAssets(),!0)}catch(i){o(F,i instanceof Error?i.message:"Failed to load assets",!0)}finally{o(ta,!1)}}function sa(){o(j,""),o(z,""),o(G,""),o(J,""),o(K,null),o(P,""),o(Q,""),o(N,!1)}async function ba(i){i.preventDefault(),o(F,"");try{await ma.createAsset({name:a(j),asset_type:a(z),description:a(G)||null,location:a(J)||null,capacity:a(K),status:a(P)||null,tags:a(Q).split(",").map(v=>v.trim()).filter(Boolean)}),sa(),await oa()}catch(v){o(F,v instanceof Error?v.message:"Failed to create asset",!0)}}function ga(i){if(!i)return"";switch(i.toLowerCase()){case"available":return"status-available";case"in_use":return"status-in-use";case"unavailable":return"status-unavailable";default:return""}}var ra=Ya();Ba("9662h2",i=>{La(()=>{Ra.title="Assets - Community Resilience"})});var ia=s(ra),va=s(ia),la=e(s(va),2);la.__click=()=>{sa(),o(N,!a(N))};var ya=s(la,!0);t(la),t(va),pa(2),t(ia);var na=e(ia,2);{var xa=i=>{var v=Ma(),x=s(v,!0);t(v),y(()=>f(x,a(F))),c(i,v)};h(na,i=>{a(F)&&i(xa)})}var ca=e(na,2);{var Aa=i=>{var v=Oa(),x=e(s(v),2),D=s(x),E=s(D),m=e(s(E),2);aa(m),t(E);var b=e(E,2),H=e(s(b),2),n=s(H);n.value=n.__value="";var A=e(n);A.value=A.__value="shelter";var w=e(A);w.value=w.__value="vehicle";var C=e(w);C.value=C.__value="equipment";var L=e(C);L.value=L.__value="supplies";var R=e(L);R.value=R.__value="facility";var W=e(R);W.value=W.__value="other",t(H),t(b),t(D);var S=e(D,2),X=e(s(S),2);Ua(X),t(S);var T=e(S,2),U=s(T),k=e(s(U),2);aa(k),t(U);var $=e(U,2),Y=e(s($),2);aa(Y),t($),t(T);var B=e(T,2),I=s(B),M=e(s(I),2),O=s(M);O.value=O.__value="";var l=e(O);l.value=l.__value="available";var r=e(l);r.value=r.__value="in_use";var u=e(r);u.value=u.__value="unavailable",t(M),t(I);var q=e(I,2),g=e(s(q),2);aa(g),t(q),t(B);var Z=e(B,2),Fa=s(Z);Fa.__click=sa,pa(2),t(Z),t(x),t(v),ka("submit",x,ba),V(m,()=>a(j),p=>o(j,p)),_a(H,()=>a(z),p=>o(z,p)),V(X,()=>a(G),p=>o(G,p)),V(k,()=>a(J),p=>o(J,p)),V(Y,()=>a(K),p=>o(K,p)),_a(M,()=>a(P),p=>o(P,p)),V(g,()=>a(Q),p=>o(Q,p)),c(i,v)};h(ca,i=>{a(N)&&i(Aa)})}var wa=e(ca,2);{var Ca=i=>{var v=Va();c(i,v)},Sa=i=>{var v=qa(),x=$a(v);{var D=m=>{var b=ja();c(m,b)},E=m=>{var b=Xa();da(b,21,()=>a(ea),ua,(H,n)=>{var A=Wa(),w=s(A),C=s(w),L=s(C,!0);t(C);var R=e(C,2);{var W=l=>{var r=za(),u=s(r,!0);t(r),y((q,g)=>{Ia(r,1,`badge ${q??""}`,"svelte-9662h2"),f(u,g)},[()=>ga(a(n).status),()=>a(n).status.replace("_"," ")]),c(l,r)};h(R,l=>{a(n).status&&l(W)})}t(w);var S=e(w,2),X=s(S,!0);t(S);var T=e(S,2);{var U=l=>{var r=Ga(),u=s(r,!0);t(r),y(()=>f(u,a(n).description)),c(l,r)};h(T,l=>{a(n).description&&l(U)})}var k=e(T,2),$=s(k);{var Y=l=>{var r=Ja(),u=s(r);t(r),y(()=>f(u,`ðŸ“ ${a(n).location??""}`)),c(l,r)};h($,l=>{a(n).location&&l(Y)})}var B=e($,2);{var I=l=>{var r=Ka(),u=s(r);t(r),y(()=>f(u,`ðŸ‘¥ Capacity: ${a(n).capacity??""}`)),c(l,r)};h(B,l=>{a(n).capacity&&l(I)})}t(k);var M=e(k,2);{var O=l=>{var r=Qa();da(r,21,()=>a(n).tags,ua,(u,q)=>{var g=Pa(),Z=s(g,!0);t(g),y(()=>f(Z,a(q))),c(u,g)}),t(r),c(l,r)};h(M,l=>{var r;(r=a(n).tags)!=null&&r.length&&l(O)})}t(A),y(()=>{f(L,a(n).name),f(X,a(n).asset_type)}),c(H,A)}),t(b),c(m,b)};h(x,m=>{a(ea).length===0?m(D):m(E,!1)},!0)}c(i,v)};h(wa,i=>{a(ta)?i(Ca):i(Sa,!1)})}t(ra),y(()=>f(ya,a(N)?"Cancel":"Add Asset")),c(fa,ra),Ha()}Ta(["click"]);export{ce as component};
