import"../chunks/CWj6FrbW.js";import{o as sa}from"../chunks/DN4i8kDz.js";import{f as ta,av as ra,a1 as la,a2 as oa,a4 as ia,a5 as n,a6 as na,a8 as h,aC as ha,a9 as e,a7 as o,g as s,ac as t,ad as K,b as A,aj as va,W as ca,a3 as y,af as w,ag as da}from"../chunks/BkQX6IBl.js";import{B as fa,i as q}from"../chunks/CmSFReHR.js";import{s as pa}from"../chunks/TY_SEvFQ.js";import{s as ua,a as ga}from"../chunks/H8I9kM3U.js";import{p as ma}from"../chunks/Dv07f5jY.js";import{a as _a}from"../chunks/DQ6qqwK7.js";import{i as ya}from"../chunks/DJgaem7h.js";function wa(k,m,...b){var M=new fa(k);ta(()=>{const d=m()??null;M.ensure(d,d&&(a=>d(a,...b)))},ra)}var qa=h('<img alt="" class="user-avatar svelte-12qhfyh"/>'),ka=h('<span class="user-avatar-placeholder svelte-12qhfyh"> </span>'),ba=h('<div class="dropdown-divider svelte-12qhfyh"></div> <a href="/admin/users" class="dropdown-item svelte-12qhfyh"><svg viewBox="0 0 20 20" width="16" height="16" class="svelte-12qhfyh"><path fill="currentColor" d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg> Manage Users</a>',1),Ma=h('<div class="user-dropdown svelte-12qhfyh" role="menu" tabindex="0" aria-label="User menu"><div class="dropdown-header svelte-12qhfyh"><span class="dropdown-email svelte-12qhfyh"> </span> <span class="dropdown-role svelte-12qhfyh"> </span></div> <div class="dropdown-divider svelte-12qhfyh"></div> <a href="/profile" class="dropdown-item svelte-12qhfyh"><svg viewBox="0 0 20 20" width="16" height="16" class="svelte-12qhfyh"><path fill="currentColor" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"></path></svg> Profile</a> <a href="/api-keys" class="dropdown-item svelte-12qhfyh"><svg viewBox="0 0 20 20" width="16" height="16" class="svelte-12qhfyh"><path fill="currentColor" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"></path></svg> API Keys</a> <a href="/settings" class="dropdown-item svelte-12qhfyh"><svg viewBox="0 0 20 20" width="16" height="16" class="svelte-12qhfyh"><path fill="currentColor" d="M10 2a1 1 0 011 1v1.07a7.001 7.001 0 014.243 4.243H17a1 1 0 110 2h-1.07a7.001 7.001 0 01-4.243 4.243V17a1 1 0 11-2 0v-1.07a7.001 7.001 0 01-4.243-4.243H3a1 1 0 110-2h1.07a7.001 7.001 0 014.243-4.243V3a1 1 0 011-1zm0 3a5 5 0 100 10A5 5 0 0010 5z"></path></svg> Settings</a> <!> <div class="dropdown-divider svelte-12qhfyh"></div> <button class="dropdown-item logout svelte-12qhfyh"><svg viewBox="0 0 20 20" width="16" height="16" class="svelte-12qhfyh"><path fill="currentColor" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z"></path></svg> Sign Out</button></div>'),xa=h('<div class="user-menu-container svelte-12qhfyh"><button class="user-button svelte-12qhfyh"><!> <span class="user-name svelte-12qhfyh"> </span> <svg class="dropdown-icon svelte-12qhfyh" viewBox="0 0 20 20" width="16" height="16"><path fill="currentColor" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"></path></svg></button> <!></div>'),za=h('<a href="/auth/login" class="sign-in-button svelte-12qhfyh">Sign In</a>'),Aa=h('<div class="layout svelte-12qhfyh"><header class="header svelte-12qhfyh"><div class="container header-inner svelte-12qhfyh"><a href="/" class="logo svelte-12qhfyh"><img src="/SVRLogo.png" alt="Logo" class="logo-icon svelte-12qhfyh" style="width: 1.5em; height: 1.5em; vertical-align: middle;"/> <span class="logo-text">Resilience Hub</span></a> <h1 class="site-heading" style="margin: 0 2rem; font-size: 1.5rem; font-weight: 700; color: var(--primary, #2563eb); text-align: center;">Batlow Community Knowledge Base</h1> <nav class="nav svelte-12qhfyh"><a href="/" class="nav-link svelte-12qhfyh">Query</a> <a href="/knowledge" class="nav-link svelte-12qhfyh">Knowledge</a> <a href="/knowledge-graph" class="nav-link svelte-12qhfyh">Graph</a> <a href="/documents" class="nav-link svelte-12qhfyh">Documents</a> <a href="/events" class="nav-link svelte-12qhfyh">Events</a> <a href="/assets" class="nav-link svelte-12qhfyh">Assets</a> <!></nav></div></header> <main class="main svelte-12qhfyh"><!></main> <footer class="footer svelte-12qhfyh"><div class="container"><p>Community Resilience Reasoning Model MVP</p></div></footer></div>');function Va(k,m){oa(m,!0);const b=()=>ga(ma,"$page",M),[M,d]=ua();let a=va(()=>_a(b().data.user)),f=ca(!1);sa(()=>{ya()});function F(){A(f,!1),window.location.href="/logout"}function I(){A(f,!s(f))}function v(){A(f,!1)}var x=Aa();ia("click",ha,v);var z=e(x),C=e(z),B=o(e(C),4),N=o(e(B),12);{var j=c=>{var p=xa(),_=e(p);_.__click=r=>{r.stopPropagation(),I()};var E=e(_);{var O=r=>{var l=qa();y(()=>pa(l,"src",s(a).user.avatar_url)),n(r,l)},Q=r=>{var l=ka(),u=e(l,!0);t(l),y(g=>w(u,g),[()=>(s(a).user.name||s(a).user.email).charAt(0).toUpperCase()]),n(r,l)};q(E,r=>{s(a).user.avatar_url?r(O):r(Q,!1)})}var P=o(E,2),W=e(P,!0);t(P),K(2),t(_);var $=o(_,2);{var J=r=>{var l=Ma();l.__click=i=>i.stopPropagation(),l.__keydown=i=>{(i.key==="Escape"||i.key==="Esc")&&v()};var u=e(l),g=e(u),X=e(g,!0);t(g);var R=o(g,2),Y=e(R,!0);t(R),t(u);var U=o(u,4);U.__click=v;var L=o(U,2);L.__click=v;var S=o(L,2);S.__click=v;var V=o(S,2);{var Z=i=>{var T=ba(),ea=o(da(T),2);ea.__click=v,n(i,T)};q(V,i=>{s(a).isAdmin&&i(Z)})}var aa=o(V,4);aa.__click=F,t(l),y(()=>{w(X,s(a).user.email),w(Y,s(a).user.role)}),n(r,l)};q($,r=>{s(f)&&r(J)})}t(p),y(()=>w(W,s(a).user.name||s(a).user.email)),n(c,p)},D=c=>{var p=za();n(c,p)};q(N,c=>{s(a).isAuthenticated&&s(a).user?c(j):c(D,!1)})}t(B),t(C),t(z);var H=o(z,2),G=e(H);wa(G,()=>m.children),t(H),K(2),t(x),n(k,x),na(),d()}la(["click","keydown"]);export{Va as component};
